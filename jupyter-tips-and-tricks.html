
<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Jupyter Tips and Tricks &mdash; CoCalc Manual  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
    <link rel="shortcut icon" href="_static/favicon-32x32.png"/>
    <link rel="canonical" href="https://doc.cocalc.com/jupyter-tips-and-tricks.html" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="https://www.googletagmanager.com/gtag/js?id=UA-34321400-6"></script>
        <script src="_static/google_analytics_tracker.js"></script>
        <script src="https://cocalc.com/analytics.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Whiteboard" href="whiteboard.html" />
    <link rel="prev" title="Classical Versus CoCalc Jupyter Notebooks" href="jupyter-classical-vs-cocalc.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
    <link rel="canonical" href="https://doc.cocalc.com/jupyter-tips-and-tricks.html"/>
  

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

<a href="index.html" class="icon icon-home"> CoCalc Manual
  <img src="_static/cocalc-doc-logo.svg" class="logo" alt="Logo"/>
</a>


<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="index.html">What is CoCalc?</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="licenses.html">Licenses</a></li>
<li class="toctree-l1"><a class="reference internal" href="news.html">News</a></li>
<li class="toctree-l1"><a class="reference internal" href="trial.html">Trial Projects</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Teaching</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="teaching-instructors.html">Instructor Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="teaching-students.html">Student Guide</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Features</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="project.html">Projects</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="jupyter.html">Jupyter Notebooks</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="jupyter-start.html">Getting Started with Jupyter Notebooks</a></li>
<li class="toctree-l2"><a class="reference internal" href="jupyter-enhancements.html">CoCalc Enhancements to Jupyter Notebooks</a></li>
<li class="toctree-l2"><a class="reference internal" href="jupyter-classical-vs-cocalc.html">Classical Versus CoCalc Jupyter Notebooks</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Jupyter Tips and Tricks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#use-the-halt-button-to-conserve-memory">Use the Halt Button to Conserve Memory</a></li>
<li class="toctree-l3"><a class="reference internal" href="#remove-local-files-to-troubleshoot-a-notebook">Remove Local Files to Troubleshoot a Notebook</a></li>
<li class="toctree-l3"><a class="reference internal" href="#play-a-wav-file-in-a-jupyter-notebook">Play a .wav file in a Jupyter notebook</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#wav-file-on-disk">wav file on disk</a></li>
<li class="toctree-l4"><a class="reference internal" href="#wav-file-embedded-in-notebook">wav file embedded in notebook</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#notebook-too-large-remove-output">Notebook too large? Remove output.</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="whiteboard.html">Whiteboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="latex.html">LaTeX Editor</a></li>
<li class="toctree-l1"><a class="reference internal" href="sagews.html">Sage Worksheets</a></li>
<li class="toctree-l1"><a class="reference internal" href="terminal.html">Linux Terminal</a></li>
<li class="toctree-l1"><a class="reference internal" href="x11.html">Graphical Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="chat.html">Chatrooms</a></li>
<li class="toctree-l1"><a class="reference internal" href="tasks.html">Task Lists</a></li>
<li class="toctree-l1"><a class="reference internal" href="frame-editor.html">Frame Editor</a></li>
<li class="toctree-l1"><a class="reference internal" href="markdown.html">Markdown</a></li>
<li class="toctree-l1"><a class="reference internal" href="rich-text.html">Rich Text Editing</a></li>
<li class="toctree-l1"><a class="reference internal" href="time-travel.html">Time Travel</a></li>
<li class="toctree-l1"><a class="reference internal" href="snippets.html">Snippets</a></li>
<li class="toctree-l1"><a class="reference internal" href="share.html">Shared Files</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Platform</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="account-dropdown.html">Account Dropdown Menu</a></li>
<li class="toctree-l1"><a class="reference internal" href="project-toolbar.html">Project Toolbar</a></li>
<li class="toctree-l1"><a class="reference internal" href="files-toolbar.html">Files Toolbar</a></li>
<li class="toctree-l1"><a class="reference internal" href="account-toolbar.html">Account Toolbar</a></li>
<li class="toctree-l1"><a class="reference internal" href="billing.html">Billing/Upgrades FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="software.html">Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="ipad.html">iPad</a></li>
<li class="toctree-l1"><a class="reference internal" href="howto/index.html">Howto</a></li>
<li class="toctree-l1"><a class="reference internal" href="howto/trouble.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="api2/index.html">API v2</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/index.html">API v1</a></li>
<li class="toctree-l1"><a class="reference internal" href="docker-image.html">CoCalc Docker Image</a></li>
<li class="toctree-l1"><a class="reference internal" href="cocalc-desktop.html">CoCalc Desktop</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Appendix</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="references.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="genindex.html">Index</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
  <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
  <a href="index.html">CoCalc Manual</a>

      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="contents.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="jupyter.html">Jupyter Notebooks</a> &raquo;</li>
      <li>Jupyter Tips and Tricks</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/sagemathinc/cocalc-doc/edit/master/source/jupyter-tips-and-tricks.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="jupyter-tips-and-tricks">
<span id="index-0"></span><h1>Jupyter Tips and Tricks<a class="headerlink" href="#jupyter-tips-and-tricks" title="Permalink to this heading"></a></h1>
<div class="section" id="use-the-halt-button-to-conserve-memory">
<span id="jupyter-halt"></span><span id="index-1"></span><h2>Use the Halt Button to Conserve Memory<a class="headerlink" href="#use-the-halt-button-to-conserve-memory" title="Permalink to this heading"></a></h2>
<p>Each running Jupyter Notebook spawns a session in your project.
This <strong>uses up memory</strong>, which could cause troubles running all your processes in your project.</p>
<p>You can either <em>restart</em> the kernel to clean up its current memory (i.e. all variables are deleted), or if you’ve finished working on that notebook, click the <code class="docutils literal notranslate"><span class="pre">Halt</span></code> button to stop the kernel and close the notebook.</p>
<a class="reference internal image-reference" href="_images/jupyter-halt-button.png"><img alt="halt button" src="_images/jupyter-halt-button.png" style="width: 90%;" /></a>
</div>
<div class="section" id="remove-local-files-to-troubleshoot-a-notebook">
<span id="index-2"></span><h2>Remove Local Files to Troubleshoot a Notebook<a class="headerlink" href="#remove-local-files-to-troubleshoot-a-notebook" title="Permalink to this heading"></a></h2>
<p>If you have a Jupyter notebook that suddenly stops working, especially with extensions or widgets, you can try removing local files in a <a class="reference internal" href="terminal.html"><span class="doc">Linux Terminal</span></a>, then restarting and running the notebook:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>cd
rm -rf .sage .ipython/ .config/ .local/ .jupyter .cache/
</pre></div>
</div>
<p>You will need to reinstall packages you added locally after doing the above.</p>
<span class="target" id="index-3"></span></div>
<div class="section" id="play-a-wav-file-in-a-jupyter-notebook">
<span id="index-4"></span><h2>Play a .wav file in a Jupyter notebook<a class="headerlink" href="#play-a-wav-file-in-a-jupyter-notebook" title="Permalink to this heading"></a></h2>
<p>CoCalc Jupyter notebooks now support embedding audio files. There are several ways you can embed an audio file so it plays nicely in a Jupyter notebook:</p>
<div class="section" id="wav-file-on-disk">
<h3>wav file on disk<a class="headerlink" href="#wav-file-on-disk" title="Permalink to this heading"></a></h3>
<ol class="arabic">
<li><p>Create a file on disk, e.g., <code class="docutils literal notranslate"><span class="pre">tuba.wav</span></code>. If you’re using <code class="docutils literal notranslate"><span class="pre">simpleaudio</span></code> or something else to create sound, make sure to figure out how to save that sound to a local file.</p></li>
<li><p>Put this in the markdown cell and hit shift+enter:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;audio controls=true src=&quot;tuba.wav&quot;/&gt;
</pre></div>
</div>
</li>
<li><p>You’ll see an embedded audio controller appear and you can play your audio.</p></li>
</ol>
<div class="figure align-center" id="id1">
<a class="reference internal image-reference" href="_images/jupyter-wav-2.png"><img alt="audio controls for wav playback" src="_images/jupyter-wav-2.png" style="width: 60%;" /></a>
<p class="caption"><span class="caption-text">audio controls to play wav file</span><a class="headerlink" href="#id1" title="Permalink to this image"></a></p>
</div>
</div>
<div class="section" id="wav-file-embedded-in-notebook">
<h3>wav file embedded in notebook<a class="headerlink" href="#wav-file-embedded-in-notebook" title="Permalink to this heading"></a></h3>
<p>Alternatively, you might want the file to be embedded in the notebook itself. To do this, click the picture icon on the right of a markdown cell, or click “Edit –&gt; Insert images in …”, then drag and drop to copy the wav file as an attachment to that cell. Then replace the image attachment code that is generated by:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;audio controls=true src=&quot;attachment:tuba.wav&quot;/&gt;
</pre></div>
</div>
<p>and again you’ll see a player and can play your file.</p>
</div>
</div>
<div class="section" id="notebook-too-large-remove-output">
<span id="jupyter-ipynb-too-large"></span><span id="index-5"></span><h2>Notebook too large? Remove output.<a class="headerlink" href="#notebook-too-large-remove-output" title="Permalink to this heading"></a></h2>
<div class="figure align-center" id="id2">
<a class="reference internal image-reference" href="_images/ipynb-too-large-help.png"><img alt="file-too-large error" src="_images/ipynb-too-large-help.png" style="width: 90%;" /></a>
<p class="caption"><span class="caption-text">Jupyter notebook <em>file too large</em> error</span><a class="headerlink" href="#id2" title="Permalink to this image"></a></p>
</div>
<p>If the size of your notebook exceeds 50 MB, you will not be able to open it in the usual way; instead, you will see the error message shown above. Usually, the problem occurs when the notebook has created large amounts of output. In that case, there is a command you can run from the <a class="reference internal" href="terminal.html"><span class="doc">Linux Terminal</span></a> to remove output. If removing output results in a small enough notebook, you will be able to open the “-no-output” version of the notebook normally.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># run this from a CoCalc Linux terminal (.term file)</span>
<span class="c1"># use the actual name of your notebook for &quot;myfile.ipynb&quot;</span>
cc-jupyter-no-output myfile.ipynb
<span class="c1"># the above command creates myfile-no-output.ipynb</span>
</pre></div>
</div>
<p>If your Jupyter notebook is creating an image file from a plot that exceeds the size limit, here are some things you can do:</p>
<ol class="arabic">
<li><p>If you are using a CoCalc Jupyter notebook (which we generally recommend), it may be possible to open the notebook with <a class="reference internal" href="jupyter-classical-vs-cocalc.html#jupyter-server-alternatives"><span class="std std-ref">the classical jupyter server or JupyterLab</span></a>. Once you have the file open, you can modify the code to produce a smaller plot. Then you can go back to using the CoCalc notebook.</p></li>
<li><p>Revert the notebook to an earlier version, before the large plot was created. Click the <a class="reference internal" href="project-files.html#project-snapshot"><span class="std std-ref">Backups button</span></a> in the file listing and copy over an earlier version, then modify your code to produce a smaller plot.</p></li>
<li><p>The default image file format for plots with the “R (R Project)” Jupyter kernel is SVG. For large plots, smaller files may be produced if the format is set to PNG, because SVG plots (the default) grow in size proportionally to the data they are supposed to show, wherease PNG plots are rasterized, so file size does not have the same proportionality relationship to amount of data. To set image output format in an R Jupyter notebook to PNG, run the following in a compute cell before creating the plot:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>options(jupyter.plot_mimetypes = c(&#39;text/plain&#39;, &#39;image/png&#39;))
</pre></div>
</div>
</li>
</ol>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="jupyter-classical-vs-cocalc.html" class="btn btn-neutral float-left" title="Classical Versus CoCalc Jupyter Notebooks" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="whiteboard.html" class="btn btn-neutral float-right" title="Whiteboard" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Sagemath, Inc., CC BY-4.0 licensed.</p>
  </div>

  

<div role="contentinfo">
  <p>
    Please contact us for <a href="https://cocalc.com/support/new">Questions and Feedback</a>,
    <a href="https://github.com/sagemathinc/cocalc-doc/">Doc Repository</a>,
    <a href="https://cocalc.com/policies/">Privacy Policy and ToS</a>
  </p>
  <p>
    <strong><a href="https://cocalc.com/app">Start CoCalc</a></strong> – start free, upgrade later!
  </p>
</div>


</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-34321400-6"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-34321400-6', {
          'anonymize_ip': false,
      });
    </script>
   
  <a class="github cocalcbanner" href="https://cocalc.com/app?anonymous=true">
     <img alt="Start CoCalc"
          class="github"
          src="_static/start-cocalc.png"
          style="position: fixed; top: 0; right: 0; border: 0; height: 75px; width: 75px">
  </a>


</body>
</html>